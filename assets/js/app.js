function SwitchesController(e,r,a,t,n){var s=this;s.switches=[];s.switchDevice=i;s.getIcon=u;c();function c(){o()}function o(){a.get(t.hostname+"/json.htm?"+n+"type=devices&filter=light&used=true&order=Name").then(function(e){s.switches=e.data.result})}function i(e){if(e.Status==="Off"){var r="On"}else{var r="Off"}a.get(t.hostname+"/json.htm?"+n+"type=command&param=switchlight&idx="+e.idx+"&switchcmd="+r).then(function(){o()})}function u(e){if(e.SwitchType==="Dimmer"||e.SwitchType==="Media Player"||e.SwitchType==="On/Off"||e.SwitchType==="Selector"){switch(e.Image){case"Light":return"fa-lightbulb-o";break;case"Alarm":return"fa-bell";break;case"Amplifier":return"fa-bullhorn";break;case"ChristmasTree":return"fa-tree";break;case"Computer":return"fa-laptop";break;case"ComputerPC":return"fa-desktop";break;case"Cooling":return"fa-snowflake-o";break;case"Fan":return"fa-refresh";break;case"Fireplace":return"fa-fire";break;case"Generic":return"fa-power-off";break;case"Harddisk":return"fa-hdd-o";break;case"Heating":return"fa-thermometer-full";break;case"Media":return"fa-youtube-play";break;case"Phone":return"fa-mobile";break;case"Printer":return"fa-print";break;case"Speaker":return"fa-volume-up";break;case"TV":return"fa-television";break;case"WallSocket":return"fa-plug";break;case"Water":return"fa-tint";break;default:}}else{switch(e.SwitchType){case"Blinds":return"fa-bars";break;case"Blinds Inverted":return"fa-bars";break;case"Blinds Percentage":return"fa-bars";break;case"Blinds Percentage Inverted":return"fa-bars";break;case"Contact":return"fa-exchange";break;case"Door Lock":return"fa-lock";break;case"Doorbell":return"fa-bell-o";break;case"Dusk Sensor":return"fa-sun-o";break;case"Motion Sensor":return"fa-assistive-listening-systems";break;case"Push Off Button":return"fa-toggle-off";break;case"Push On Button":return"fa-toggle-on";break;case"Smoke Detector":return"fa-cloud";break;case"Venetian Blinds EU":return"fa-bars";break;case"Venetian Blinds US":return"fa-bars";break;case"X10 Siren":return"fa-bullhorn";break;default:}}}r.$on("$reload",function(e,r){o()})}angular.module("main").controller("SwitchesController",SwitchesController);angular.module("main").directive("switches",function(){return{scope:{},controller:"SwitchesController",controllerAs:"vm",templateUrl:"switches/switches.tpl.html"}});